# Адмова ад адказнасці

Інфармацыя, выкладзеная ў гэтай белай кнізе, носіць папярэдні характар.
Такім чынам, ні аўтары, ні любыя з іх адпаведных філіялаў не нясуць ніякай адказнасці за тое, што інфармацыя, выкладзеная тут, з'яўляецца канчатковай або правільнай, і кожная з вышэйзгаданых адмоваў ад адказнасці,
у поўнай меры, дазволенай дзеючым заканадаўствам, любую і ўсю адказнасць, якая ўзнікае ў сувязі з дэліктам, кантрактам ці іншым чынам у дачыненні да гэтага тэхнічнага дакумента.
Ні гэтая тэхнічная дакументацыя, ні што-небудзь, што змяшчаецца ў ёй, не павінны служыць асновай для заключэння кантрактаў або абавязацельстваў.

Нішто ў гэтым тэхнічным дакуменце не з'яўляецца прапановай прадаць або заклікам набыць якія-небудзь токены, якія тут абмяркоўваюцца.
У любым выпадку, калі гэты дакумент будзе разглядацца як такая прапанова або хадайніцтва, ніякая такая прапанова або хадайніцтва не прызначана і не перадаецца гэтым дакументам у любой юрысдыкцыі, дзе гэта з'яўляецца незаконным,
дзе такая прапанова або хадайніцтва патрабуе ліцэнзіі або рэгістрацыі, або калі такая прапанова або хадайніцтва падлягае абмежаванням.
У прыватнасці, любыя токены, якія абмяркоўваюцца ў гэтым дакуменце, не былі і, на дату выпуску гэтага тэхнічнага дакумента, не павінны быць зарэгістраваны ў адпаведнасці з заканадаўствам аб каштоўных паперах або аналагічным заканадаўствам любой юрысдыкцыі,
незалежна ад таго, ці лічыць такая юрысдыкцыя такія токены каштоўнай паперай або падобным інструментам і не можа быць прапанавана або прададзена ў любой юрысдыкцыі, дзе гэта з'яўляецца парушэннем адпаведных законаў такой юрысдыкцыі.


# Ліцэнзія

Зыходны код[^src] гэтага дакумента даступны на ўмовах Creative Commons Attribution-ShareAlike 4.0 International[^cc] ліцэнзіi.

[^src]: Глядзіце: @sources
[^cc]: Глядзіце: @cc


# Увядзенне

Інтэрнэт у асноўным складаецца з праектаў з адкрытым зыходным кодам, і гэта было з самага пачатку.
З часам многія з гэтых праектаў сталі асновай, на якой будуюцца ўсе будучыя інавацыі.
І хоць на гэтым былі зароблены багацці, адкрыты зыходны код у асноўным ствараецца і падтрымліваецца без кампенсацыі.

Мы верым, што ўсе сучасныя чалавечыя намаганні застопарыліся з-за таго, што найменшы працэнт інжынераў у свеце выбіраў паміж зарплатай і падтрыманнем працаздольнасці Інтэрнэту.
Адкрыты зыходны код - гэта любоўная праца, якой часта перашкаджае адсутнасць значных эканамічных стымулаў, што прыводзіць да таго, што сапраўды карысныя праекты ніколі не раскрываюць свой патэнцыял, у той час як іншыя пакутуюць ад праблем бяспекі з-за адсутнасці стымулаў падтрымліваць праграмнае забеспячэнне на працягу ўсяго яго жыццёвага цыклу.
Каб цалкам рэалізаваць наш патэнцыял, нам патрэбна справядлівая сістэма ўзнагароджання для экасістэмы з адкрытым зыходным кодам, якая прынцыпова не змяняе спосаб яе стварэння і выкарыстання.

Прадпрыемствы часта складаюць бізнес-мадэлі з адкрытым зыходным кодам, атрымліваючы прыбытак непасрэдна ад працы добразычлівых распрацоўшчыкаў, а таксама спадзяюцца на іх выпраўленне памылак пры ўзнікненні праблем.
Выдатным прыкладам з'яўляецца нядаўні інцыдэнт з крытычнай уразлівасцю бяспекі ў Log4j, пакеце ад Apache Software Foundation, які знайшоў свой шлях праз многія камерцыйныя праграмы і сэрвісы, якія выкарыстоўваюцца прадпрыемствамі і ўрадамі.
У лістападзе 2021 года даследчык бяспекі, які працуе ў Alibaba Group Holding Ltd., паведаміў аб уразлівасці CVE-2021-44228[^1], які атрымаў максімальна магчымы базавы бал ад Apache Software Foundation.
Аміт Ёран, выканаўчы дырэктар Tenable і дырэктар-заснавальнік групы камп'ютэрнай гатоўнасці да надзвычайных сітуацый ЗША (US-CERT), ахарактарызаваў гэту ўразлівасць як «самую вялікую і крытычную ўразлівасць за апошняе дзесяцігоддзе»[^2].
Пачалася паніка, і нешматлікія добраахвотнікі, якія падтрымлівалі гэты пакет, трапілі пад публічную крытыку за няўдачу.
Пасля разгляду абурэння сціплай просьбай аб справядлівасці сістэмы былі выпраўлены.
Прадпрыемствы і ўрады ў рэшце рэшт зразумелі, што Log4j, пакет, які выкарыстоўваўся ў шырокім дыяпазоне крытычна важных сістэм на працягу двух дзесяцігоддзяў, падтрымліваўся некалькімі неаплатнымі добраахвотнікамі, тымі самымі неапяванымі героямі, якія пачалі дзейнічаць, нягледзячы на злоўжыванні з боку індустрыі [^3], і нястомна працавалі каб ліквідаваць уразлівасць.

На жаль, Log4j - далёка не адзіны прыклад.
core-js спампоўваецца 30 мільёнаў разоў на тыдзень у якасці асновы кожнага прыкладання Node.js, але ён таксама амаль не фінансуецца.
Нядаўна некалькі асноўных распрацоўшчыкаў біткойна сышлі ў адстаўку, спасылаючыся, сярод іншых прычын, на *адсутнасць фінансавай кампенсацыі* за сваё рашэнне.

Былі шматлікія спробы стварэння структур заахвочванняў, звычайна з удзелам спонсарства і сістэм ўзнагароджання.
Спонсарства дазваляе карыстальнікам з адкрытым зыходным кодам ахвяраваць праекты, якія яны аддаюць перавагу.
Аднак уявіце сабе адкрыты зыходны код як цагляную вежу, дзе ніжнія пласты даўно забытыя, але ўсё яшчэ падтрымліваюцца адданымі інжынерамі і на якія спадзяецца яшчэ больш распрацоўшчыкаў.
Толькі праекты на вяршыні вежы звычайна вядомыя і атрымліваюць спонсарскую падтрымку.
Такі неаб'ектыўны выбар прыводзіць да таго, што асноўныя цэглы, якія трымаюць вежу, не прыцягваюць ахвяраванняў, у той час як фаварыты атрымліваюць больш, чым ім трэба.
Баунты дазваляюць спажыўцам праектаў прапаноўваць аплату распрацоўшчыкам за стварэнне пэўных функцый, такім чынам, толькі ўзнагароджваючы праекты за выкананне дзеянняў, якія не абавязкова адпавядаюць іх інтарэсам.
І зноў толькі ўзнагароджванне фаварытаў.

У гэтым артыкуле мы прапануем tea — дэцэнтралізаваную сістэму для справядлівага ўзнагароджання распрацоўшчыкаў з адкрытым зыходным кодам на аснове іх укладу ва ўсю экасістэму і дзейнічае праз алгарытм стымулявання tea, які прымяняецца да ўсіх запісаў у рэестры tea.

![Спрошчаны выгляд сістэмы ўзнагароджання за замочванне tea.](img/figure-1.svg)

$\parskip=0pt plus 1pt$

[^1]: Крыніца: @nist
[^2]: Крыніца: @reuters
[^3]: Крыніца: @twitter


# Кампаненты

Распрацоўшчыку праграмнага забеспячэння, які стварае прыкладанне, патрэбныя чатыры рэчы: браўзер, тэрмінал, рэдактар і менеджэр пакетаў.
З гэтых чатырох менеджэр пакетаў - гэта тое, што кіруе інструментамі і фрэймворкамі, неабходнымі распрацоўшчыку для стварэння свайго прадукту.
На гэтым узроўні мы бачым патэнцыял для змены аплаты працы з адкрытым зыходным кодам.

## Менеджэр пакетаў

Менеджэр пакетаў ведае, ад якога праграмнага забеспячэння з адкрытым зыходным кодам залежыць функцыянаванне прыкладання, ад вяршыні вежы да яе падставы.
Кожны кампанент і версія, важныя для прыкладання, вядомыя і запісаны.
Яно ведае, што вяршыня вежы старанна адбірае залежныя ад сябе і што пільны адбор працягваецца ўніз.
Менеджэр пакетаў унікальным чынам размешчаны ў стэку інструментаў распрацоўшчыка, каб забяспечыць аўтаматызаванае і дакладнае размеркаванне значэнняў на аснове фактычнага выкарыстання ў рэальным свеце.

Мы прапануем нязменны дэцэнтралізаваны рэестр, прызначаны для размеркавання кошту на аснове алгарытму, які вызначае ўклад кожнага запісу ў карыснасць і працаздольнасць сістэмы.
Значэнне можа ўваходзіць у графік у вяршынных кропках — праграмах і асноўных бібліятэках — і рэкурсіўна размяркоўвацца па залежнасцях гэтых вяршынь і іх залежнасцей, паколькі рэестр ведае ўвесь графік з адкрытым зыходным кодам.

Акрамя таго, мы лічым, што істотная інфармацыя павінна быць даступная праз менеджэр пакетаў, каб распрацоўшчыкі маглі ацаніць, ці могуць яны давяраць пакету і яго аўтару.
Гэтая інфармацыя можа быць заснавана на рэпутацыі, адзнаках супольнасці, дадзеных, атрыманых з сістэм дэцэнтралізаванай ідэнтыфікацыі (DID[^4]), іншых мэнэджарах пакетаў або механізмах стымулявання, якія патэнцыйна залежаць ад таго, што ўдзельнікі сеткі падвяргаюць рызыцы эканамічную каштоўнасць.

Мы прагназуем, што спалучэнне інструментаў, інфармацыі і ўзнагарод у Tea будзе справядліва стымуляваць распрацоўшчыкаў, дапамагаючы стымуляваць рост праграмнага забеспячэння з адкрытым зыходным кодам і спрыяць інавацыям.

[^4]: Глядзіце: @w3

## Дэцэнтралізаваны рэестр

Кожны менеджэр пакетаў мае ўласны рэестр пакетаў, у якім паўтараюцца адны і тыя ж метаданыя.
Прыйшоў час стварыць адзіны, поўны і канчатковы рэестр, распрацаваны і кіраваны суполкамі, якія ад яго залежаць.
Гэты дэцэнтралізаваны, нязменны рэестр можа забяспечыць бяспеку, стабільнасць і прадухіліць
злы намер.

Інтэрнэт працуе на дзясятках тысяч жыццёва важных кампанентаў з адкрытым зыходным кодам.
Характэрна, што да гэтага часу інцыдэнты, выкліканыя выдаленнем неабходнай інфраструктуры з адкрытым зыходным кодам, былі мінімальнымі.
Самай вядомай з іх стала выдаленне залежнасці ад левай панэлі NPM[^5] у 2016 годзе, якая каскадна перайшла ў сістэмы бесперапыннай інтэграцыі і бесперапыннага разгортвання, што пакідала распрацоўшчыкаў без працы на некалькі дзён.
Гэтая падзея прадэманстравала, што сам Інтэрнэт заснаваны на далікатных сістэмах развіцця.
Іншыя прыклады ўключаюць актыўны або наўмысны ўдзел распрацоўшчыкаў пакетаў, якія сабатавалі іх папулярныя пакеты (гл. colors.js, faker.js[^6] і node-ipc[^7]),
ці зламыснікі, якія імкнуцца атрымаць прыбытак, прыкідваючыся, што дапамагаюць падтрымліваць пакеты і скажаць іх, каб выкрасці, напрыклад, зачыненыя ключы біткойнаў (гл. Event-stream[^8]),
або шкоднасныя пакеты з наўмыснымі арфаграфічнымі памылкамі, таксама вядомыя як typosquatting,
у надзеі прымусіць карыстальнікаў усталяваць іх падманам, напрыклад, пакеты crossenv супраць cross-env NPM [^npmjsCrossenv].

Неабходна гарантаваць цэласнасць праграмнага забеспячэння па меры прасоўвання індустрыі ў будучыню, дзе лічбавыя актывы з'яўляюцца часткай праграмнага забеспячэння.
Мы не можам працягваць заставацца ўразлівымі да зламыснікаў, якія мадыфікуюць праграмнае забеспячэнне.

Большасць інструментаў, якія мы называем менеджэрамі пакетаў, не могуць гарантаваць, што гэтыя пакеты, убудаваныя ў праграмы і dApps, з'яўляюцца нязменным адкрытым кодам, апублікаваным іх першапачатковымі аўтарамі.
GitHub ад Microsoft выявіў, што 17% уразлівасцяў у праграмным забеспячэнні былі створаны са зламыснымі мэтамі[^9], прычым некаторыя з іх заставаліся незаўважанымі на працягу доўгага часу (гл. Webmin 1.890[^10]).

Дэцэнтралізаваны рэестр, дапоўнены сістэмай рэпутацыі і які падтрымліваецца эканамічнымі стымуламі, закліканымі выкрываць дрэнных удзельнікаў і ўзнагароджваць добрых удзельнікаў, можа забяспечыць гарантыі, якія шукалі супольнасці распрацоўшчыкаў.

[^5]: Крыніца: @theregister
[^6]: Крыніца: @fossa
[^7]: Крыніца: @lunasec
[^8]: Крыніца: @github
[^npmjsCrossenv]: Крыніца: @npmjsCrossenv
[^9]: Крыніца: @zdnet
[^10]: Крыніца: @threatpost


## Сістэма захоўвання

Пакеты з адкрытым зыходным кодам забяспечваюць шырокі спектр функцый, некаторыя з якіх могуць быць абмежаванымі або непажаданымі.
Шыфраванне - выдатны таму прыклад.
Важным варыянтам выкарыстання шыфравання з'яўляецца падтрымка прыватнасці людзей па ўсім свеце.
Аднак шыфраванне таксама можа быць выкарыстана ў гнюсных мэтах (гл. Phantom Secure, дэмантаваны праваахоўнымі органамі ў сакавіку 2018 г.[^11]) або можа быць скампраметавана для падтрымкі праваахоўнай дзейнасці (гл. Аперацыя Ironside (AFP), Operation Greenlight (Еўрапол)),
і аперацыя "Траянскі шчыт" (ФБР)[^12], дзе ФБР выкарыстоўвала "зашыфраваную" камунікацыйную платформу AN0M і пераканала злачынцаў выкарыстоўваць свае "зашыфраваныя" тэлефоны для бяспечнай сувязі).

Шырокае прымяненне шыфравання зрабіла яго ідэальным варыянтам выкарыстання праграмнага забеспячэння з адкрытым зыходным кодам і выдатным прыкладам таго, што любое рашэнне, якое захоўвае пакеты, павінна быць абароненым ад падробкі і цэнзуры.
tea - гэта дэцэнтралізаваны пратакол, які не мае намеру фільтраваць або санкцыянаваць пакеты на аснове іх функцыянальнасці.
У той час як кіраўніцтва tea можа вырашыць выдаліць правераныя шкоднасныя пакеты (гл. раздзел кіравання для атрымання дадатковай інфармацыі), вельмі важна, каб сістэма tea падключалася да некалькіх сістэм захоўвання дадзеных, у тым ліку дэцэнтралізаваных, якія дэманструюць, што пакет не зменены і правільна прайграны.
Супрацоўнікі пакетаў могуць выбраць сістэму захоўвання, якая найбольш адпавядае іх патрэбам бяспечнага захоўвання і распаўсюджвання пакетаў.

[^11]: Крыніца: @fbi
[^12]: Крыніца: @europol

# Удзельнікі сеткі

Місія tea заключаецца ў пашырэнні магчымасцей суполак з адкрытым зыходным кодам і забеспячэнні падтрымкі іх удзельнікаў, якія ствараюць інструменты, якія будуюць Інтэрнэт.
У гэтай тэхнічнай кнізе мы адрозніваем удзельнікаў па іх укладах.
Некаторыя могуць дадаваць код або правяраць дададзены код.
Іншыя могуць забяспечыць эканамічную каштоўнасць для падтрымкі распрацоўшчыкаў і іх рэпутацыі.

## Абслугоўвальнікі пакетаў

Супрацоўнікі пакетаў павінны сачыць за тым, каб іх праграмнае забеспячэнне працягвала прыносіць усё большую каштоўнасць па меры развіцця індустрыі.

tea мяркуе, што стваральнікі пакетаў падтрымліваюць сваю працу.
Абслугоўвальнікі пакетаў з'яўляюцца слупамі суполак з адкрытым зыходным кодам, якія павінны быць пашыраны і ўзнагароджаны за іх пастаянны ўклад.
Супрацоўнік пакета можа вырашыць спыніць свае намаганні па тэхнічным абслугоўванні або зразумець, што ён не можа працаваць у тэмпе, які адпавядае чаканням карыстальнікаў пакета.
Суправаджальнікі пакетаў атрымліваюць незаменны токен (NFT), калі завяршаюць адпраўку пакета (дадатковую інфармацыю глядзіце ў раздзеле NFT суправаджэння).
Гэты NFT выкарыстоўваецца для доказу іх працы і з'яўляецца ключом, які накіроўвае ўзнагароды за tea.
Уладальнік NFT пакета можа перадаць права ўласнасці іншаму распрацоўніку (або групе распрацоўшчыкаў), такім чынам зрабіўшы іх суправаджэннем пакета і атрымальнікам любых будучых узнагарод.
Сапраўды гэтак жа распрацоўшчык можа вырашыць узяць на сябе ролю суправаджальніка пакета, разгалінаваўшы існуючы пакет і адправіўшы новы, які ён будзе падтрымліваць у далейшым, такім чынам, сам становячыся стваральнікам і суправаджальнікам пакета.

Вельмі важна даць супольнасцям распрацоўшчыкаў правільныя інструменты для вызначэння таго, якія пакеты абслугоўваюцца, а таксама рэпутацыю і якасць працы іх былых і цяперашніх суправаджаючых.
Мы занадта часта бачылі, як працу з адкрытым зыходным кодам фальсіфікавалі і намаганні многіх разбуралі дрэнныя ўдзельнікі.
Нягледзячы на тое, што праца гэтых паганых суб'ектаў у значнай ступені выяўляецца і выпраўляецца, часта гэта адбываецца толькі пасля таго, як будзе нанесены істотны ўрон праз фінансавую страту або страту даных.
Возьмем, напрыклад, пакет EventStream npm[^13], які спампоўваўся больш за 1,5 мільёна разоў на тыдзень і на які абапіраліся больш за 1500 пакетаў, калі хакеру ўдалося пранікнуць у праект з адкрытым зыходным кодам,
заваяваць давер свайго першапачатковага аўтара і змяніць EventStream, каб ён залежаў ад шкоднаснага пакета, які можа выкрасці ўліковыя даныя біткойн-кашалька на старонні сервер.
Нягледзячы на тое, што інструменты могуць дапамагчы выявіць некаторыя з гэтых нападаў, на іх не заўсёды можна спадзявацца, што стварае цэлую супольнасць, залежную ад стараннасці адзін аднаго і жадання падзяліцца сваімі высновамі.

Мы прапануем увесці стымулы з дапамогай токена tea, апісанага ў раздзеле токена tea, заахвочваючы супольнасці з адкрытым зыходным кодам канструктыўна паведамляць пра свае высновы, каб распрацоўшчыкі пакетаў маглі вырашыць іх, перш чым яны будуць выкарыстоўвацца.

[^13]: Крыніца: @medium

## Карыстальнікі пакета

Карыстальнікі пакетаў - гэта распрацоўшчыкі праграмнага забеспячэння, арыентаваныя на вырашэнне канкрэтнай задачы.
Яны часта шукаюць у суполцы з адкрытым зыходным кодам інструменты, неабходныя ім для хуткага эксперыментавання і ітэрацыі з вельмі невялікімі выдаткамі або бясплатна, атрымліваючы непасрэдную выгаду ад працы стваральнікаў і суправаджэння пакетаў.
Традыцыйна падмноства магло выбраць падтрымку суправаджэння пакетаў праз ахвяраванні або іншыя формы ўзнагароджання; аднак гэта здаралася рэдка.

Спонсарства можа быць эфектыўнай сістэмай падтрымкі распрацоўкі з адкрытым зыходным кодам; аднак ўзнагароджанне звычайна не распаўсюджваецца на ўсіх залежных асоб.
Гэта абмежаванне прыносіць карысць фаварытам і перашкаджае інавацыям і стварэнні праграмнага забеспячэння.
Каб стаць асновай распрацоўкі праграмнага забеспячэння, адкрыты зыходны код павінен даць магчымасць усім распрацоўшчыкам, пачаткоўцам ці экспертам, на ўсіх узроўнях вежы.

Мэта tea - падтрымліваць асноўныя каштоўнасці праграмнага забеспячэння з адкрытым зыходным кодам, забяспечваючы пры гэтым дэцэнтралізаваную сістэму ўзнагароджання суправаджэння пакетаў за іх працу.
Каб выканаць гэтую місію, tea мае намер распрацаваць — і стымуляваць іншых да распрацоўкі — механізмы для карыстальнікаў пакетаў для падтрымкі суправаджэння пакетаў праз унікальныя выпадкі выкарыстання токена tea, як апісана ў раздзелах аб токенах tea і будучай працы і патэнцыйных намаганнях супольнасці.

## Прыхільнікі і спонсары пакета

У Web 2.0 і web3 прыхільнікаў пакетаў часта называюць «спонсарамі». Гэта арганізацыі або карыстальнікі пакетаў, якія выкарыстоўваюць праграмнае забеспячэнне з адкрытым зыходным кодам для стварэння сваіх камерцыйных прадуктаў, філантропы, якія жадаюць падтрымаць экасістэму, або прадпрымальнікі, якія жадаюць фінансаваць каманды для распрацоўкі кампанентаў большай сістэмы.

tea прапануе пашырыць суполкі прыхільнікаў пакетаў на ўсю супольнасць tea, незалежна ад таго, арганізацыі, распрацоўшчыкі, карыстальнікі або энтузіясты тэхналогій.
Мэта tea складаецца ў тым, каб укараніць дэцэнтралізаваныя механізмы стымулявання праз унікальныя выпадкі выкарыстання токена tea для любога члена супольнасці tea, каб унесці свой уклад у бесперапынную ўстойлівасць і бесперапынны рост адкрытага зыходнага кода.
Прыхільнікі і спонсары пакетаў вольныя вырашаць, якія пакеты або суправаджэнне пакетаў яны жадаюць падтрымаць, зыходзячы з іх працы, перакананняў або любых крытэрыяў і паказчыкаў, якія паўплываюць на іх рашэнне.
Акрамя таго, падтрымка, якая аказваецца прыхільнікамі і спонсарамі пакета, будзе распаўсюджвацца на залежнасці кожнага пакета, такім чынам, ускосна давяраючы суправаджальніку пакета, што ён зробіць правільны выбар наконт свайго стэка і выкарыстае гэтую інфармацыю для ўмацавання сваёй рэпутацыі.

Пры ўмове, што суправаджэнне пакета прапануе такую паслугу, прыхільнік і спонсар пакета могуць атрымаць узамен NFT прэміум-ўзроўню падтрымкі, такім чынам, выйграючы ад паскораных SLA або больш гнуткага ліцэнзавання.
Акрамя таго, прыхільнікі і спонсары пакетаў могуць прыняць рашэнне аб падтрымцы пакетаў або суправаджэння пакетаў і аўтаматычна перанакіраваць усе або адсотак сваіх узнагарод, каб стымуляваць каманды для стварэння новага праграмнага забеспячэння з адкрытым зыходным кодам.
Іншымі словамі, упакоўкі не павінны існаваць, каб tea пачала сыпацца.
Праекты, якія зараджаюцца, могуць падтрымлівацца гэтак жа, як і больш сталыя, што яшчэ больш стымулюе пастаянна развіваецца ландшафт з адкрытым зыходным кодам.

## tea Дэгустатары

Па меры выпуску новых пакетаў або новых версій існуючых пакетаў неабходна даказальна прадэманстраваць сапраўднасць працы.
Гэтая інфармацыя мае вырашальнае значэнне для карыстальнікаў пакета, каб вырашыць, ці варта давяраць як пакету, так і яго суправаднікам.
У tea пратаколе гэтую функцыю выконваюць дэгустатары tea.

дэгустатары tea, як правіла, з'яўляюцца дасведчанымі распрацоўшчыкамі праграмнага забеспячэння, гатовымі прысвяціць частку свайго часу праверцы прэтэнзій, звязаных з пакетам (функцыянальнасць, бяспека, семантычная версія[^14], дакладнасць ліцэнзіі і г.д.)
і ставяць як сваю рэпутацыю, так і эканамічную каштоўнасць, каб прадэманстраваць вынікі сваіх даследаванняў і аналізу і падтрымаць свае агляды.
дэгустатары tea атрымліваюць узнагароды за старанне і намаганні.
У tea мы называем «замочваннем гарбаты» дзеянне блакіроўкі чайных токенаў для падтрымкі вашых водгукаў і атрымання ўзнагарод (або штрафаў) на аснове кансенсусу аб сапраўднасці вашых аглядаў.

Як і прыхільнікі ўпакоўкі, дэгустатары tea могуць паўплываць на ўпакоўку і рэпутацыю яе суправаджэння; аднак іх уплыў больш значны, улічваючы іх ролю ў праверцы бяспекі, функцыянальнасці і якасці пакета.
дэгустатары tea таксама павінны пабудаваць сваю рэпутацыю, каб падтрымаць свае патрабаванні.
Якасць іх працы і эканамічная каштоўнасць, якую яны падвяргаюць рызыцы, калі яны складаюць свае агляды ў спалучэнні з іншымі знешнімі крыніцамі даных, будуць ствараць рэпутацыю кожнага дэгустатара tea, прыносячы большую каштоўнасць іх працы.
Глядзіце раздзел рэпутацыі пакета для больш падрабязнай інфармацыі аб механізмах, якія выкарыстоўваюцца для ўплыву на пакет і рэпутацыю суправаджэння пакета.

[^14]: Глядзіце: @semver

# Агляд пратаколу

Дызайн пратакола ўзнагароджання за ўнёскі з адкрытым зыходным кодам сутыкаецца з праблемамі.
Праграмнае забеспячэнне з адкрытым зыходным кодам па вызначэнні адкрыта для ўсіх і можа, у выніку, падвяргацца няправільнаму прызначэнню, прысваенню або злоснаму маніпуляванню.
Тым не менш, супольнасць з адкрытым зыходным кодам паслядоўна дэманстравала сваю гатоўнасць вылучаць добрых акцёраў і выкрываць дрэнных акцёраў.
Гістарычна склалася так, што энергія, затрачаная на агляд і каментарый да ўкладаў іншых распрацоўшчыкаў, была строга добраахвотнай, нягледзячы на тое, наколькі працаёмкім і важным можа быць справаздачнасць і абарона высноў.

Мы маем намер стварыць недаверлівую платформу распаўсюджвання прыкладанняў, забяспечаную рэпутацыяй і фінансавымі стымуламі, бо лічым, што адэкватнае ўзнагароджанне за ўнёскі з адкрытым зыходным кодам не можа быць паспяховым без сістэмы рэпутацыі і магчымасці для членаў супольнасці паведамляць пра свае высновы і падтрымку (або нязгоду) для пакета або працы распрацоўшчыка.

Мы павінны даць распрацоўшчыкам інструменты для доступу і ўнясення ўкладу ў гэтую сістэму рэпутацыі.
Інструменты, якія ўключаюць просты візуальны і праграмуемы доступ да версіі і рэпутацыі ўсіх залежнасцей у іх пакетах.
Дакладнае разуменне таго, якія члены суполкі падтрымліваюць кожны пакет і колькі чайных токенаў яны замочваюць, будзе спрыяць рэпутацыі кожнага пакета, падобна таму, наколькі суправаджэнне пакета замочвае сваю працу, паказвае, наколькі яны стаяць за сваёй працай.
Гэтыя аб'яднаныя пункты даных дапамогуць стварыць сістэму рэпутацыі для ўсіх членаў супольнасці і палегчаць выбар.
Паколькі ўзлом пакета EventStream быў праведзены не праз сам пакет, а праз адну з яго залежнасцей, бачнасць усіх узроўняў залежнасцей будзе мець жыццёва важнае значэнне для стварэння гэтай ненадзейнай сістэмы.
Аднак такія фактары, як выдаткі на вылічэнні і транзакцыі («газ»), павінны мець прыярытэт пры распрацоўцы і стварэнні сістэмы.

Наша мэта складаецца ў тым, каб узнагародзіць распрацоўшчыкаў як Web 2.0, так і web3.
Тонкасць і спецыфіка кожнага стэка робяць так, што адсочванне ўстаноўкі і выдалення пакетаў можа лёгка стаць ахвярай аднаго або некалькіх злосных суб'ектаў.
Гэта ўключае ў сябе «пакупку» установак для штучнага завышэння лічбаў.
Яшчэ горшым сцэнарыем было б увядзенне фундаментальных змяненняў у прыроду праграмнага забеспячэння з адкрытым зыходным кодам шляхам стварэння непатрэбнага трэння з ліцэнзійнымі ключамі або іншымі механізмамі адсочвання разгортвання.
Каб забяспечыць самы шырокі ахоп, мы лічым, што ўзнагароджанне не павінна абапірацца на спрошчанае ўяўленне аб адсочванні ўстаноўкі або выдалення, а хутчэй на механізмах стымулявання, якія заахвочваюць адпраўку якасных пакетаў і паведамленне аб гнюсных або высокарызыкоўных пакетах.
Нарэшце, многія пакеты абапіраюцца на агульныя залежнасці.
Напрыклад, у Lodash 151 209 утрыманцаў[^15], у той час як у chalk 78 854 утрыманцы[^16] або ў Log4js 3343 утрыманцы[^17].
Паколькі больш пакетаў ствараецца з выкарыстаннем адных і тых жа залежнасцей, як мы гарантуем, што стымулы размяркоўваюцца справядліва і справядліва? Як мы гарантуем, што найбольш часта выкарыстоўваныя залежнасці будуць узнагароджаны, не губляючы галады новыя або новыя пакеты і распрацоўшчыкаў?
Як мы гарантуем, што сістэма заахвочванняў не скончыцца тым, што адвядзе распрацоўшчыкаў ад нішавых моў і цэнтралізуе іх там, дзе заахвочванні лепшыя?
Але таксама, як распрацоўшчыкі, як мы ідэнтыфікуем пакеты з большасцю залежных, каб стварыць альтэрнатывы - больш простыя, больш эфектыўныя, лепш закадзіраваныя версіі гэтых пакетаў?
У tea мы лічым, што адсутнасць стымулаў перашкаджае развіццю праграмнага забеспячэння з адкрытым зыходным кодам.
Пры падтрымцы правільных эканамічных стымулаў і ўзнагарод больш распрацоўшчыкаў змогуць ствараць, паляпшаць і дапаўняць праграмнае забеспячэнне з адкрытым зыходным кодам для паляпшэння свету.
Толькі тады токен tea зможа прадстаўляць агульную каштоўнасць праграмнага забеспячэння з адкрытым зыходным кодам.

[^15]: Крыніца: @npmjsLodash
[^16]: Крыніца: @npmjsChalk
[^17]: Крыніца: @npmjsLogFourjs

## Прадстаўленне пакета

Адпраўка выпуску пакета патрабуе, каб некалькі транзакцый адбываліся атамарна.
У прыватнасці, суправаджальнік пакета павінен:

* Зарэгіструйце пакет (і яго семантычную версію) у дэцэнтралізаваным рэестры.
* Загрузіце пакет у дэцэнтралізаваную сістэму захоўвання для ўстойлівасці, устойлівасці да цэнзуры і прастаты распаўсюджвання.
* Унясіце ўклад у рэпутацыю і надзейнасць пакета, *замачыўшы* tea токены.

Няўдача любой з трох аперацый прывядзе да вяртання пратакола да папярэдняга стану, такім чынам, ухіляючы любыя доказы прадстаўлення.

Калі пакет будзе паспяхова адпраўлены, суправаджальнік пакета атрымае NFT суправаджэння ў якасці доказу сваёй працы і ўкладу ў адкрыты зыходны код.
Суправаджальнік пакета можа перадаць трэцяй асобе ўзнагароды, звязаныя з суправаджэннем NFT.
Тым не менш, рэпутацыя, звязаная са стварэннем і абслугоўваннем актыву, застанецца ў суправаджэння пакета, таму іх рэпутацыя можа з часам пагоршыцца.
Калі рэпутацыя любога члена супольнасці tea дасягае ключавых этапаў, яны могуць атрымаць доступ да павышаных частак пратаколу або атрымаць паскоранае ўзнагароджанне ў адпаведнасці з рашэннем кіраўніцтва гарбаты.
Больш падрабязную інфармацыю аб суправаджаючай NFT глядзіце ў раздзеле суправаджэння NFT.

### Аналіз залежнасцей

Залежнасці пакетаў могуць быць глыбокімі, бо кожны пакет часта мае і залежных, і залежнасці.
Каб забяспечыць простую метадалогію, якая ўзнагароджвае ўсіх распрацоўшчыкаў, якія ўнеслі свой уклад у праграмнае забеспячэнне з адкрытым зыходным кодам, захоўваючы пры гэтым хуткае і эфектыўнае з пункту гледжання вылічэнняў стварэнне дрэва залежнасцей, мы прапануем правяраць толькі залежнасці першага ўзроўню пасля адпраўкі пакета.

Гэтая канструкцыя абумоўлена гіпотэзай, што кожная залежнасць сама па сабе з'яўляецца пакетам, які быў незалежна адпраўлены ў дрэва tea.
Робячы гэта, кожная з яго залежнасцей можа быць адлюстравана, і калі яе залежнасці самі маюць залежнасці, яны будуць адлюстраваны падчас адпраўкі пакета залежнасцей.

![Дыяграма аналізу залежнасцей.](img/figure-3.svg){#fig:dep-analysis}


У @fig:dep-analysis адпраўка пакета A запускае аналіз залежнасцей выканання з 1 па n і зборкі з 1 па n, у той час як залежнасці выканання з 1.1 па 1.n і залежнасці зборкі з 1.1 па 1.n былі прааналізаваны, калі пакет B быў прадстаўлены.
Мы будзем прымяняць тую ж метадалогію для размеркавання заахвочванняў, паколькі насычаныя токены размяркоўваюцца па ўсіх залежнасцях, такім чынам рэкурсіўна намачваючы пакеты, пералічаныя як залежнасці (гл. @fig:steeping-rewards).

![Інтэнсіўнае размеркаванне ўзнагарод па залежнасцях.](img/figure-2.svg){#fig:steeping-rewards}


Упраўленне версіямі і супярэчлівыя залежнасці з'яўляюцца сур'ёзнымі праблемамі, і ліквідацыя іх непаладак можа абярнуцца вялізнымі выдаткамі часу.
Каб вырашыць гэтую праблему, мы прапануем кожны пакет падвяргаць комплекснаму сканаванню залежнасцей пасля адпраўкі, каб мы маглі гарантаваць, што пакет адпавядае наступным правілам для семантычных дыяпазонаў версій.

* Пакеты могуць абмяжоўваць свае залежнасці толькі ад асноўнай версіі, хоць пачаткам дыяпазону можа быць любая сапраўдная семантычная версія (напрыклад, >=5.2.1 <6).
* Калі залежнасць абнаўляецца да больш свежай асноўнай версіі, tea можа запатрабаваць павелічэння асноўнай версіі пакета.
* Падобным чынам, калі залежнасць абнаўляецца да больш свежай мінорнай версіі, tea можа запатрабаваць павелічэння мінорнай версіі пакета.
* Калі дадаецца новая залежнасць, для tea можа спатрэбіцца павялічыць мінорную версію пакета.

Улічваючы непатрэбныя намаганні, якія прыкладаюцца да любога карыстальніка пакета пры парушэнні вышэйпералічаных правілаў, мы прапануем скараціць частку токена tea, прасякнутага суправаджэннем пакета, каб адлюстраваць адсутнасць належнай абачлівасці.
Калі распрацоўнік прымусіць усіх жангляваць кубкамі, нехта пралье крыху tea.
Паколькі чакаецца, што сканаванне залежнасцяў будзе адбывацца пры адпраўцы, мы павінны адзначыць, што ніякага замочвання пакета ад прыхільнікаў і спонсараў або дэгустатараў tea не адбудзецца.

## Рэпутацыя пакета і суправаджэння пакета

Абслугоўвальнікі пакетаў павінны ўнесці свой уклад у рэпутацыю і надзейнасць свайго пакета шляхам замочвання tea токенаў.
Аднак сістэма рэпутацыі, якая абапіраецца выключна на эканамічны ўклад аўтара, не забяспечвае дастатковай абароны карыстальнікаў і можа падвяргацца атакам Sybil, калі адзін чалавек стварае некалькі прадстаўленняў сябе, каб пакінуць вялікую колькасць станоўчых водгукаў на сваю працу, прымусіць карыстальнікаў паверыць, што іх праца была разгледжана і ўхвалена многімі.

Для прадухілення нападаў Sybil даступна некалькі метадалогій, некаторыя з якіх апісаны Ніцішам Балачандранам і Сугатай Саньялам у «Аглядзе метадаў змякчэння нападаў Sybil»[^18].
Паколькі tea з'яўляецца дэцэнтралізаваным пратаколам, выкарыстанне давернай сістэмы сертыфікацыі, якая абапіраецца на цэнтралізаваны орган выдачы сертыфікатаў, будзе супярэчыць яе аснове.
Мы прапануем засяродзіць увагу на дэцэнтралізаваных падыходах да змякчэння нападаў Sybil і, больш канкрэтна, на метадалогіях, якія абапіраюцца на вялікую групу ўдзельнікаў сеткі, заахвочаных ацэньваць і публічна прадстаўляць рэпутацыю кожнага пакета і яго суправаджальніка.

Падобна вытворчасці блокаў у блокчейне з доказам долі, дзе вузлы, якія не вырабляюць, могуць правяраць працу іншых і, пры неабходнасці, вылучаць парушэнне правілаў сеткі, што вядзе да пакарання дрэннага ўдзельніка праз падразанне (знішчэнне часткі іх долі), мы прапануем сістэму, з дапамогай якой трэція бакі (яны ж дэгустатары tea) змогуць праглядаць пакеты, створаныя суправаднікамі пакетаў, і атрымліваць эканамічныя стымулы паводзіць сябе ў інтарэсах супольнасці праграмнага забеспячэння з адкрытым зыходным кодам і яго карыстальнікаў, а таксама прызнаваць добрыя паводзіны і караць за дрэнныя паводзіны.
Гэтая сістэма павінна быць адначасова ўстойлівай да Sybil і перашкаджаць буйным уладальнікам токенаў істотна ўплываць на пратакол або рэпутацыю пэўных пакетаў.
Мы лічым, што гэты падыход больш адпавядае адкрытаму зыходнаму коду, забяспечваючы больш урадлівы субстрат для прыняцця і даверу і, у канчатковым выніку, спрыяючы росту tea.

[^18]: Крыніца: @arxiv

## Агляд пакета трэцімі асобамі

Праверка пакетаў трэцімі асобамі з'яўляецца важным кампанентам пабудовы рэпутацыі, аднак праверка трэцімі асобамі мае свой уласны набор унікальных пагроз, уключаючы вышэйзгаданыя атакі Sybil.

Тэхналогія блокчейн і, больш выразна, стаўка, прапануе ўнікальную магчымасць для tea справіцца з гэтай праблемай.
Нягледзячы на ​​тое, што адрасы кашалькоў могуць быць даступныя ў бясконцай колькасці, гэта не так з токенамi tea, першапачатковы запас якіх, як чакаецца, складзе 10 мільярдаў.
Акрамя таго, кожнае дзеянне, якое выконваюць распрацоўшчыкі, напрыклад, адпраўка пакетаў, праверка пакетаў або іх замочванне, спрыяе іх рэпутацыі, ствараючы такім чынам унікальны профіль, які кожны распрацоўшчык можа выкарыстоўваць, каб унесці свой уклад у супольнасць tea і прыняць удзел у кіраванні tea.

Патрабуючы ад старонніх рэцэнзентаў настойваць токены tea і рызыкуючы страціць частку сваіх навараных токенаў, калі выявіцца, што яны паводзяць сябе насуперак інтарэсам сеткі або з'яўляюцца дрэнным удзельнікам, трэція асобы могуць забяспечыць дадатковую давер да пакета і атрымаць узнагароду ў выглядзе токенау tea.

Мы таксама прапануем пашырыць сістэму рэпутацыі на трэціх асоб, якія праводзяць незалежную праверку ўпакоўкі - дэгустатараў tea.
Завяршэнне станоўчага агляду запатрабуе выканання дзвюх атамарных аперацый:

* Прадстаўленне агляду кода, падпісанае дэгустатарам tea і агульнадаступнае для ўсіх членаў супольнасці, а таксама
* Акт замочвання «за» пакет (супраць «супраць» пакета), каб абгрунтаваць іх агляд.

Завяршэнне адмоўнага агляду, які змяшчае адну або некалькі крытычных уразлівасцяў, запатрабуе ад дэгустатараў tea звязацца з распрацоўшчыкам упакоўкі з дапамогай пратаколу абмену паведамленнямі, каб паведаміць ім аб уразлівасці і дазволіць ім своечасова вырашыць праблему.
Пасля заканчэння вызначанага кіраваннем перыяду, адведзенага суправаджальніку пакета для ліквідацыі яго ўразлівасці, або калі выпраўлены пакет стане даступным, той жа пратакол абмену паведамленнямі будзе выкарыстоўвацца для паведамлення ўсім карыстальнікам і тэсціроўшчыкам гэтага пакета (уключаючы ўтрыманцаў) аб тым, што ўразлівасць была выяўлена ідэнтыфікаваны,
і, спадзяюся, разгледжаны, каб яны ведалі, што трэба абнавіць сваё прыкладанне або залежнасці.
Каб перашкодзіць марнаваць час распрацоўшчыкаў, камунікацыя паміж дэгустатарамі tea і спецыялістамі па суправаджэнні ўпакоўкі запатрабуе ад дэгустатараў tea настойвання токенаў tea.

Пасля завяршэння абедзвюх аперацый дэгустатары tea атрымаюць NFT у якасці доказу іх працы над канкрэтнай упакоўкай і версіяй упакоўкі.
Назапашванне NFT у спалучэнні з каэфіцыентам замочвання кожнага з разгледжаных пакетаў і інфармацыяй, атрыманай са знешніх сістэм, будзе спрыяць рэпутацыі дэгустатара tea.
Калі іх рэпутацыя дасягае ключавых вех, дэгустатары tea могуць атрымаць доступ да павышаных частак пратаколу або паскораных узнагарод, згодна з рашэннем кіраўніцтва tea.

## Састарэлыя або пашкоджаныя пакеты

Місія tea - узнагароджваць удзельнікаў і ўдзельнікаў суполак з адкрытым зыходным кодам; аднак узнагароды павінны быць сувымерныя з намаганнямі, якія прыкладаюцца спецыялістамі па суправаджэнні пакетаў і дэгустатарамі tea.
Недастатковае абслугоўванне, састарэлыя або пашкоджаныя пакеты з'яўляюцца відавочным сведчаннем таго, што суправаджальнікі пакетаў не апраўдваюць чаканняў супольнасці або не забяспечваюць даверу і падтрымкі, якія ўзніклі на іх праз насычэнне пакетаў.
Яшчэ адной праявай састарэлых пакетаў можа быць пастаяннае выкарыстанне старой мовы або старой версіі шматверсійных моў.
Упакоўкі, якія занадта доўга застаюцца састарэлымі або пашкоджанымі, сведчаць аб тым, што дэгустатары tea павінны рэгулярна і паслядоўна праглядаць працу тых, хто падтрымлівае ўпакоўку.

дэгустатары tea з'яўляюцца найважнейшымі членамі суполак з адкрытым зыходным кодам, таму што іх агляды і звязаныя з імі прэтэнзіі могуць накіроўваць карыстальнікаў пакетаў да пакетаў або ад іх.
Каб пераканацца, што аглядам можна давяраць на пастаяннай аснове, мы прапануем механізм, з дапамогай якога састарэлыя або пашкоджаныя ўпакоўкі могуць бачыць частку сваіх намочаных токенаў, адпраўленых дэгустатарам tea, якія першымі выявілі адсутнасць абслугоўвання любой упакоўкі.

Любы адмоўны агляд, які акрэслівае недахоп, такі як уразлівасць нулявога дня або выкарыстанне састарэлай залежнасці, і застаецца адкрытым пасля льготнага перыяду, вызначанага кіраўніцтвам, павінен разглядацца як адмова з боку суправаджэння пакета.
Яны не выканалі даручаную і ўзнагароджаную справу.
Тое ж самае можна сказаць пра прыхільнікаў і спонсараў пакетаў, якія паставілі сваю рэпутацыю на працу правапарушальнікаў суправаджэння пакетаў і атрымалі за гэта ўзнагароды, але не змаглі выявіць недахоп абслугоўвання або вырашылі працягваць падтрымліваць пакет, нягледзячы на гэта.

Па меры таго, як пакеты набіраюць папулярнасць і карыстанне, з большай колькасцю прыкладанняў і патэнцыйна крытычна важных сістэм, якія залежаць ад іх, мы павінны стымуляваць распрацоўшчыкаў непрыкметна паведамляць аб недахопах суправаджаючаму пакетаў, а таксама суправаджаючым пакетаў для ліквідацыі такіх недахопаў, перш чым іх можна будзе выкарыстоўваць.
Такім чынам, мы прапануем, каб любы састарэлы або пашкоджаны пакет, які падвяргаецца аднаму або некалькім пацверджаным негатыўным водгукам і застаецца ў такім стане пасля перыяду адтэрміноўкі, вызначанага кіраваннем, скараціў частку яго токенаў незалежна ад іх паходжання (суправаджальнік пакета, пакет прыхільнікаў і спонсараў або папярэдніх дэгустатараў tea), іншая порцыя адпраўляецца дэгустатарам tea, якія пакінулі адмоўныя водгукі.
Размеркаванне сярод усіх дэгустатараў tea можа быць заснавана на ўзросце іх агляду і колькасці токенаў tea, якія яны намачылі для агляду.

## Суправаджальнік NFT

Пасля паспяховай адпраўкі пакета суправаджэнне пакета атрымае NFT у доказ іх працы і ўкладу.
Уладальнік гэтага NFT аўтаматычна атрымае ўсе ўзнагароды, звязаныя з пакетам.
Суправаджальнікі пакетаў могуць перадаць права ўласнасці на абслугоўванне пакета іншаму суправадзіцелю пакета, проста перадаўшы NFT пакета.
Паспяховая перадача NFT прывядзе да таго, што новы ўладальнік аўтаматычна атрымае будучыя ўзнагароды за пакет.

Важная частка стварэння рэпутацыі залежыць ад частаты і колькасці адпраўкі якасных пакетаў.
NFT, якія дастаўляюцца суправаднікам пакетаў у якасці доказу іх працы, могуць выкарыстоўвацца сістэмай рэпутацыі для абнаўлення рэпутацыі суправаджэння пакетаў і прадастаўлення ім доступу да павышаных частак пратаколу, згодна з рашэннем кіраўніцтва tea.
Аднак для прадухілення вектараў нападаў, такіх як купля членамі супольнасці іх рэпутацыі, перадача суправаджэння NFT не прывядзе да перадачы рэпутацыі.
Рэпутацыя павінна заставацца непасрэдна звязанай з канкрэтнай працай распрацоўшчыка і не павінна падлягаць перадачы.

# tea токен

## Бяспека сеткі

У той час як многія блокчейны могуць выглядаць як эфектыўныя і бяспечныя інфраструктурныя рашэнні для падтрымкі мэтаў tea, мы лічым, што трэба ўважліва разгледзець тэхналагічны стэк, на якім пабудавана сістэма tea.

Маштабаванасць, эканамічная эфектыўнасць, ESG і пашыральнасць старонніх з'яўляюцца важнымі фактарамі дызайну, якім можа лепш служыць сістэма пацверджання стаўкі tea-suvereign.
У proof-of-stake аператары вузлоў і ўдзельнікі сеткі робяць стаўку на эканамічную каштоўнасць у выглядзе ўласнага токена ланцужка для павышэння бяспекі сістэмы.
Аператары вузлоў і ўдзельнікі сеткі атрымліваюць узнагароды за паспяховую вытворчасць блокаў, якія адпавядаюць правілам сеткі і ўключаюць дакладную інфармацыю аб транзакцыях.
Бяздзейнасць (яна ж адключаны вузел) або зламысная/няправільная дзейнасць караюцца знішчэннем долі пастаўленых токенаў праз слэш.

Сістэма proof-of-stake, якая працуе на базе токена tea, дазволіць уладальнікам токена tea ўнесці свой уклад у бяспеку сістэмы, *ставячы* tea, і падтрымліваць распрацоўшчыкаў з адкрытым зыходным кодам, *замочваючы* tea.
Мы цалкам разумеем, што эканамічныя фактары могуць перашкодзіць некаторым распрацоўшчыкам рабіць стаўку або замочваць tea; такім чынам, стэйкінг і замочванне будуць даступныя ўсяго за ліст, найменшы наміналам гарбаты будзе роўная адна стомільённая ($10^{-8}$) tea.

Абодва прыкладання токена tea выконваюць жыццёва важныя функцыі ў падтрымцы і развіцці экасістэмы з адкрытым зыходным кодам.
Стэйкiнг tea будзе гарантаваць, што сістэма tea будзе працягваць бяспечна працаваць, таму ўсе ўдзельнікі сеткі могуць адпраўляць і атрымліваць доступ да пакетаў, каб праглядаць іх, інтэграваць іх у свае праграмы і г.д.
Наадварот, замочванне tea падтрымае мэту tea па прадастаўленні інструментаў для ўсіх удзельнікаў сеткі для падтрымкі і выкарыстання пакетаў, якія адпавядаюць патрабаванням якасці і надзейнасці, сфармуляваным чайнай супольнасцю праз падтрымку і нязгоду з кожным пакетам.
Будзе праяўлена асцярожнасць пры вызначэнні і рэалізацыі параметраў разбіўкі і замочвання, каб адзін не стаў паразітам на іншым.

## Заахвочванні і пакаранні

Як ужо гаварылася раней, у зладзеяў могуць быць моцныя стымулы скампраметаваць праграмнае забеспячэнне з адкрытым зыходным кодам.
Большая частка крытычна важнай інфраструктуры Інтэрнэту працуе з адкрытым зыходным кодам, і гонка за пошукам эксплойтаў і іншых уразлівасцяў працягваецца.
У tea мы лічым, што варта вінаваціць не тых, хто падтрымлівае пакеты (хаця яны часта бываюць).

Стымулы пратакола tea выпраўляюць гэта шляхам справядлівага і роўнага размеркавання стымулаў.
Такі пакет, як Lodash з больш чым 151 тысячай утрыманцаў, з'яўляецца апорай распрацоўкі з адкрытым зыходным кодам, і яго суправаджэнне заслугоўвае прапарцыйнага ўзнагароджання.
Аднак сістэма ўзнагароджання, пабудаваная выключна на колькасці ўтрыманцаў, не дазволіць наватарам разбурыць гэтыя манаполіі, калі толькі яны не атрымліваюць дастатковага фінансавання трэцімі асобамі або ўжо назапасілі дастаткова рэсурсаў для самафінансавання.
Такі падыход, хутчэй за ўсё, прывядзе да змяншэння колькасці ўдзельнікаў, што прывядзе да палярнай супрацьлегласці таго, што такое tea.

Мэта tea складаецца ў тым, каб прадставіць каштоўнасць праграмнага забеспячэння з адкрытым зыходным кодам і, робячы гэта, спрыяць яго росту, даючы ўдзельнікам рэсурсы, неабходныя для бесперашкоднага выканання свайго захаплення.
Сістэма размеркавання гарбаты павінна ўважліва ўлічваць каэфіцыент замочвання кожнай упакоўкі і адпаведным чынам карэктаваць заахвочванне кожнай упакоўкі.
Каб знізіць рызыку таго, што невялікая колькасць пакетаў, якія выкарыстоўваюцца ў якасці залежных у многіх праграмах, збіраюць большасць высокіх узнагарод, мы будзем выкарыстоўваць даследаванні, праведзеныя Фондам web3[^19] для механізму ўзнагароджання Polkadot, заснаванага на доказе стаўкі.
Мы можам дадаткова скарэктаваць рэалізацыю і яе зменныя на аснове вынікаў практычных эксперыментаў.

Па меры набліжэння пакета да аптымальнага каэфіцыента замочвання, вызначанага кіраўніцтвам, яго каэфіцыент узнагароды за замочванне будзе паступова зніжацца.
Калі ўпакоўка перавышае аптымальны каэфіцыент замочвання, каэфіцыент ўзнагароджання за замочванне рэзка зніжаецца, каб пазбавіць прыхільнікаў упакоўкі і дэгустатараў гарбаты ад далейшага замочвання ўпакоўак з моцнай настойкай.
Такая канструкцыя магла б зрабіць упакоўкі з меншай намочанасцю больш прывабнымі як для прыхільнікаў упакоўкі, так і для дэгустатараў tea.
Гэта таксама можа стымуляваць вопытных распрацоўшчыкаў ствараць альтэрнатывы высокапрадукцыйным пакетам, ствараючы магчымасць для супольнасці tea збалансаваць падтрымку існуючага праграмнага забеспячэння і прасоўванне інавацый.
Каэфіцыент замочвання будзе разлічвацца з выкарыстаннем цыркуляцыйнай падачы ў першапачатковай канструкцыі.
Cупольнасць tea можа змяніць гэты дызайн, каб яшчэ больш палепшыць маштабаванасць сістэмы.
Няхай $\chi$ будзе каэфіцыентам замочвання ўсіх пакетаў.
Ён уяўляе сабой агульную колькасць токенаў tea, насычаных супрацоўнікамі пакетаў, карыстальнікамі пакетаў, прыхільнікамі і спонсарамі пакетаў і дэгустатарамі tea, падзеленую на агульную колькасць маркераў tea.
Улічваючы, колькі пакетаў з адкрытым зыходным кодам даступна сёння і іх чаканы рост, $\chi$ заўсёды будзе вельмі малым значэннем ад $0$ да $1$.

Няхай $\psi$ будзе каэфіцыентам стаўкі.
Ён уяўляе сабой агульную колькасць токенаў tea, пастаўленых любым удзельнікам сеткі для забеспячэння бяспекі сеткі.

Няхай $\chi_{ideal}$ будзе каэфіцыентам замочвання, якога мы хацелі б дасягнуць для кожнага пакета для справядлівага размеркавання ўзнагароджання па ўсіх пакетах і іх залежнасцях.
Значэнне $\chi_{ideal}$ павінна абнаўляцца па меры дадання новых пакетаў у дэцэнтралізаваны рэестр і стварэння залежнасцей.
Каб вызначыць найлепшае значэнне для $\chi_{ideal}$, мы будзем выкарыстоўваць крывую папулярнасці, якая абнаўляецца ў пачатку кожнага цыкла ўзнагароджання.

Няхай $\tau = \tau(\chi)$ будзе гадавой працэнтнай стаўкай, якая распаўсюджваецца на ўсіх членаў чайнай супольнасці, якія замочваюць токены tea для падтрымкі распрацоўшчыкаў з адкрытым зыходным кодам.
Іншымі словамі, $\tau(\chi)$ адпавядае ўзнагародзе за замочванне, атрыманай за год членам супольнасці, які замочвае токены tea за ўвесь год.

Няхай $\gamma = \gamma(\psi)$ будзе гадавой працэнтнай стаўкай стаўкі, размеркаванай паміж усімі аператарамі вузлоў і ўдзельнікамі сеткі, якія ставяць токены гарбаты для бяспекі сеткі.
Іншымі словамі, $\gamma(\psi)$ адпавядае ўзнагародзе за стаўку, атрыманай за год членам супольнасці, які робіць стаўку на токены tea за ўвесь год.

Няхай $\delta$ - гадавая інфляцыя, накіраваная на сеткавую казну.
$\delta$ можа адрознівацца ў залежнасці ад знешніх фактараў, якія ўплываюць на прапанову токенаў.

Мы разглядаем штогадовую стаўку ўзнагароджання за замачванне як функцыю $\chi$ і гадавую стаўку ўзнагароджання за стаўку як функцыю $\psi$.

* $\tau(\chi)$ адпавядае заахвочванню людзей настойваць пакет.
Калі $\chi$ павялічваецца, патрабуецца менш узнагарод $\tau(\chi)$.
* $\gamma(\psi)$ адпавядае стымулу для людзей рабіць стаўку на сетку.
Калі $\psi$ павялічваецца, для забеспячэння бяспекі сеткі патрабуецца менш узнагарод $\gamma(\psi)$.

Гадавая інфляцыя $I$ будзе эквівалентная $(\tau + \gamma + \delta)$ і разлічваецца наступным чынам:

$$
I = \frac{\textrm{прапанова токенаў у канцы года} - \textrm{прапанова токенаў на пачатак года}}{\textrm{прапанова токенаў на пачатак года}} = (\tau + \gamma + \delta)
$$

Варта ўзважыць уклад у інфляцыю $\tau_{\textsc{all}}$ (стымул, размеркаваны ўсім удзельнікам пакета) і $\gamma_{\textsc{all}}$ (стымул, размеркаваны паміж усімі ўдзельнікамі бяспекі сеткі). каб гарантаваць, што сістэма стымулюе аптымальнае суадносіны замочвання/стаўкі.

Паколькі мы засяроджваемся на стымулах, размеркаваных па ўсіх пакетах, мы вызначаем гэта
$\tau_{\textsc{all}}$
з'яўляецца функцыяй каэфіцыента замочвання $\chi$ і таму
$\tau_{\textsc{all}}(\chi) = \chi \cdot \tau(\chi)$.
З нашага папярэдняга аналізу мы бачым гэта
$\tau_{\textsc{all}}(\chi_{ideal}) = \chi_{ideal} \cdot \tau_{ideal}$.
Паколькі мэта складаецца ў тым, каб дасягнуць стану, дзе
$\chi = \chi_{ideal}$, узнагароды
$\tau_{ideal}(\chi)$
павінен быць максімальным пры гэтым значэнні.

Няхай $\tau_{ideal} = \tau(\chi_{ideal})$
быць стаўкай узнагароджання, якую забяспечвае сетка пры ідэальным сцэнары
$\chi = \chi_{ideal}$.

Няхай $\tau_{0}$ будзе мяжой $\tau_{\textsc{all}}(\chi)$, бо $\chi$ звяртаецца да нуля, калі ні адзін з членаў супольнасці tea не напаўняе пакеты.
Значэнне $\tau_{0}$ павінна быць блізкім да нуля, але не роўным нулю, каб стымуляваць першых карыстальнікаў.
Як вынікае з даследаванняў фонду web3, мы прапануем, каб:

* функцыя інфляцыі лінейна расце паміж $\chi = 0$ і $\chi = \chi_{ideal}$, і
* ён экспанентна распадаецца паміж $\chi = \chi_{ideal}$ і $\chi = 1$.

Мы абралі падобнае экспанентнае зніжэнне для $\tau_{\textsc{all}}(\chi)$, таму што гэта азначае экспанентнае зніжэнне $\tau(\chi)$, і мы хочам, каб узнагароды рэзка ўпалі за $\chi_{ ideal}$, каб адзін пакет не атрымаў усе ўзнагароды.

Заняпад вызначаецца такім чынам, што ўзровень інфляцыі зніжаецца не больш чым на 50%, калі $\chi$ зрушвае $d$ адзінак управа ад $\chi_{ideal}$ – г.зн.
$\tau_{\textsc{all}}(\chi_{ideal} + d) \geq \tau_{\textsc{all}} \cdot 0,5$.

Мы прапануем наступныя функцыі працэнтнай стаўкі і ўзроўню інфляцыі, якія залежаць ад параметраў $\chi_{ideal}$, $\tau_{ideal}$, $\tau_{0}$ і $d$.

\begin{align*}
&\tau_{\textsc{all}}(\chi) = \tau_{0} + (\tau_{\textsc{all}}(\chi_{ideal}) - \tau_{0})\frac{\chi}{\chi_{ideal}}\enspace\textrm{for}\;0 < \chi \leq \chi_{ideal} \\
&\tau_{\textsc{all}}(\chi) = \tau_{0} + (\tau_{\textsc{all}}(\chi_{ideal}) - \tau_{0}) \cdot 2^{(\chi_{ideal}-\chi)/d}\enspace\textrm{for}\;\chi_{ideal} < \chi \leq 1
\end{align*}

Як і добрых акцёраў трэба ўзнагароджваць; кепскіх акцёраў трэба выявіць і пакараць.
Праграмнае забеспячэнне з адкрытым зыходным кодам дае шмат магчымасцей для дрэнных удзельнікаў ствараць балючыя кропкі і рэпутацыйныя рызыкі для ўсёй супольнасці распрацоўшчыкаў.
Вайна паміж добрымі і дрэннымі ўдзельнікамі працягваецца, пачынаючы ад незаконнага прысваення працы і заканчваючы змяненнем і пераразмеркаваннем пакетаў праграмнага забеспячэння або ўкараненнем гнюснага кода, часта з добра фінансаванымі дрэннымі ўдзельнікамі, якія бачаць у забруджванні пакетаў з адкрытым зыходным кодам магчымасць атрымаць фінансавую выгаду.
Адваротны бок быў адносна мінімальным: пакеты патэнцыйна былі забароненыя на лічбавых паліцах або падвяргаліся дрэннай рэпутацыі.

Мы прапануем увесці механізм скарачэння, каб усталяваць больш істотны недахоп, які непасрэдна ўплывае на эканамічную каштоўнасць дрэнных удзельнікаў.
Пакуль дэгустатары tea ацэньваюць і аналізуюць код у нядаўна адпраўленых упакоўках, мы прапануем дэгустатарам tea атрымаць інструменты і стымулы для дакладнага выяўлення і вылучэння гнюснага кода, каб карыстальнікі ўпакоўкі маглі быць дасведчаныя аб рызыках, а ахоўнікі ўпакоўкі, прыхільнікі ўпакоўкі і спонсары былі пакараныя. за адпраўку або падтрымку гнюснага кода.
У гэтай ступені, за ўсе пацверджаныя негатыўныя агляды, выкананыя ў адпаведнасці з правіламі сеткі і якія былі разгледжаны суправаджэннем пакета на працягу вызначанага кіраваннем перыяду, суправаджэнне пакета не павінна несці ніякіх штрафаў у адрозненне ад прыхільнікаў і спонсараў пакета або дэгустатараў tea, якія даў станоўчы водгук аб разгляданым пакете.
Для негатыўных водгукаў, зробленых у адпаведнасці з правіламі сеткі і якія суправаджэнне пакета не было вырашана на працягу вызначанага кіраваннем перыяду, частка токенаў, прасякнутых суправаджэннем пакета, прыхільнікамі пакета і спонсарамі, а таксама папярэднімі дэгустатарамі tea, будзе скарочана.
Іншая частка будзе зачыненая ў страхавым пуле, які кантралюецца кіраўніцтвам tea.
Упраўленне tea усталюе палітыку і правілы ў цесным супрацоўніцтве з супольнасцю, каб распаўсюджваць змесціва пула тым, хто пацярпеў ад уразлівасцяў.
Пратакол размяркуе трэцюю долю намачаных токенаў паміж усімі дэгустатарамі tea, якія ўнеслі свой уклад у адмоўны водгук і намачылі супраць упакоўкі, у залежнасці ад колькасці токенаў tea, якія яны намачылі «супраць» упакоўкі, і таго, як доўга іх токены настойваліся.
Іншымі словамі, чым раней адзін або некалькі дэгустатараў tea выявяць і паведамяць пра недахоп у адпаведнасці з правіламі сеткі, тым вышэйшую ўзнагароду яны атрымаюць за падтрымку бяспечнай і прадуктыўнай распрацоўкі з адкрытым зыходным кодам.

Каб члены суполкі не маглі выпадковым чынам галасаваць «супраць» моцна намочаных пакетаў у надзеі атрымаць большасць любых штрафных санкцый, усе токены tea, намочаныя «супраць», не будуць узнагароджаны інфляцыяй і могуць падвяргацца механізму распаду, што з часам зніжае іх кошт .

[^19]: Крыніца: @web3


# Кіраванне

Кіраванне мае вырашальнае значэнне для развіцця, устойлівасці і прыняцця любой размеркаванай сістэмы.

Мы прапануем, каб tea уключала ў сябе кіраванне ў ланцужку, дзе ўсе ўладальнікі токенаў tea могуць прапаноўваць і галасаваць за змены крытычных параметраў, узважаных у залежнасці ад уласнасці токенаў і рэпутацыі.
Гэтыя параметры могуць уключаць інфляцыю, камісію за транзакцыі, узнагароды за стаўку, узнагароды за замочванне або аптымальны каэфіцыент замочвання.
Гэта функцыянальнасць гарантуе, што важныя параметры могуць развівацца і аптымізавацца з цягам часу членамі супольнасці tea.
Мы чакаем, што кіраванне пачнецца з простай структурай і будзе паступова пашырацца па меры сталення сістэмы tea, палягчаючы прыняцце і забяспечваючы паступовую дэцэнтралізацыю.

Некаторыя сістэмныя параметры могуць не падлягаць кіраванню або падтрымліваць высокачашчынныя змены для памяншэння паверхні атакі, прадстаўленай кіраваннем.
Паступовы пераход параметраў да адкрытага дэцэнтралізаванага кіравання забяспечыць стабільнасць і прадказальнасць сістэмы.


# Пашыральнасць іншых вытворцаў

Калі мы ствараем першапачатковыя інструменты для таго, каб распаліць падтрымку суполак з адкрытым зыходным кодам, якую даўно чакала неабходнасць, мы лічым, што часткай нашай місіі з'яўляецца забеспячэнне таго, каб трэція бакі маглі пашырыць агульны набор інструментаў.
У дадатак да прадастаўлення інфраструктуры для распрацоўшчыкаў для стварэння пашырэнняў пратаколу, у тым ліку новых спосабаў інавацый і далейшай падтрымкі распрацоўшчыкаў з адкрытым зыходным кодам, у нашы планы ўваходзіць магчымасць іншых менеджэраў пакетаў унесці свой уклад у пратакол.
Мары і намаганні распрацоўшчыкаў з адкрытым зыходным кодам стварылі інавацыю, якая падтрымлівае наша паўсядзённае жыццё.
Мы з нецярпеннем чакаем новых спосабаў выкарыстання і пашырэння tea, прапанаваных супольнасцю tea.


# Будучая праца і магчымыя намаганні супольнасці

Па меры сталення сістэмы tea мы мяркуем, што супольнасць будзе прымаць рашэнні і ўносіць свой уклад у змены і пашырэнні сістэмы tea праз кіраванне.
Ніжэй прыведзены некаторыя ідэі, якія, як мы лічым, могуць натхніць некаторых.

## Аптавікі tea

Суполкі праграмнага забеспячэння з адкрытым зыходным кодам яркія і пастаянна шукаюць інавацыі і забяспечваюць каштоўнасць.
Гэтая самаадданасць і альтруізм прыводзяць да пастаяннага стварэння новага праграмнага забеспячэння і пакетаў, кожны з якіх утрымлівае залежнасці.
У выніку мы чакаем, што карта залежнасцей будзе пастаянна развівацца, што прывядзе да частых змяненняў каэфіцыента замочвання і ўзнагароджання.
У будучыні супольнасць tea можа прапанаваць распрацоўку сістэмы, прызначанай для дынамічнага маніторынгу каэфіцыента замочвання кожнай упакоўкі і змены балансу таго, як прыхільнікі ўпакоўкі замочваюць свае токены на аснове ўласных крытэрыяў.

## Роялці за перадачу пакета

Мы ўсведамляем, што распрацоўшчыкі пакетаў могуць вырашыць перадаць свой паток узнагароджання аднаму або некалькім распрацоўшчыкам.
Кіраванне такой перадачай павінна заставацца рашэннем суправаджэння пакета і іх партнёраў без умяшання з боку tea.
Патрэбны быць прадастаўлены інструменты, каб такая перадача была поўнай або частковай (магчыма, праз перанакіраванне толькі часткі залішніх узнагарод аднаму або некалькім распрацоўшчыкам, у той час як астатнія ўзнагароды працягваюць паступаць да арыгінальнага суправаджэння пакета)
і каб вялікія ўзнагароды паступалі праз адзін уліковы запіс, які кантралюецца адным удзельнікам сеткі, некалькімі ўдзельнікамі сеткі, або аўтаматычна размяркоўваецца паміж некалькімі ўліковымі запісамі з выкарыстаннем статычных або дынамічных суадносін.

## Размеркаванне ўзнагарод паміж некалькімі суправаджаючымі

Абслугоўванне пакета можа абапірацца на працу яшчэ адной каманды распрацоўшчыкаў.
Перад тым, як пачнуць паступаць узнагароды, камандам варта падумаць аб аўтаматызацыі размеркавання ўзнагарод паміж сабой.
Як адбываецца размеркаванне, павінны вырашаць самі суправаднікі, бо яны знаходзяцца ў лепшым становішчы, каб ацаніць, хто ўнёс свой уклад і як яны павінны быць узнагароджаны.

Каб дасягнуць гэтага, кожная каманда (або каманды) можа стварыць сваю ўласную дэцэнтралізаваную аўтаномную арганізацыю (DAO) і альбо аўтаматызаваць размеркаванне ўзнагарод, альбо разгарнуць больш складаныя сістэмы для вызначэння адэкватнага размеркавання ўзнагарод на аснове знешніх фактараў, такіх як галасаванне ўсіх DAO. члены, або размеркаванне на аснове часу, заснаванае на бесперапынным унёску, паспяховым выкананні бонусаў і г.д.

## Пакет обработки “Форкi”

Мы лічым, што форкi неабходныя і ў значнай ступені недастаткова выкарыстоўваюцца.
Форкі могуць быць эфектыўным інструментам для распрацоўкі пакетаў, якія канкуруюць у функцыянальнасці, прадукцыйнасці, бяспецы і нават увазе.
Якімі б карыснымі яны ні былі, форкi павінны распазнаваць першапачатковыя намаганні.
Дзякуючы будучай працы або патэнцыйнаму ўкладу, чайная супольнасць можа палепшыць сістэму, каб патрабаваць дэклараваць відэльцы, магчыма, нават выяўляць іх пры адпраўцы пакета.
Незаяўленыя форкi, выяўленыя дэгустатарамі tea, могуць прывесці да таго, што частка намочаных токенаў будзе скарочаная, перададзена арыгінальнаму суправаджальніку ўпакоўкі і адпраўлена дэгустатарам tea, якія выявілі форкi.

## Залежнасці часу выканання супраць зборкі

tea можа не адрозніваць залежнасці зборкі ад залежнасцей выканання пры размеркаванні вялікіх узнагарод пры запуску.
Тым не менш, пры ўмове, што супольнасць tea рашуча настроена на такое адрозненне, супольнасць tea можа прапанаваць удасканаленне алгарытму размеркавання ўзнагароджання, каб улічыць важнасць кожнай залежнасці і яе ўклад у кошт пакетаў, якія ад іх залежаць.
Гэтыя прапановы будуць прагаласаваны і рэалізаваны на падставе рашэння супольнасці.

## Узнагароджанне на аснове выкарыстання

Па меры стварэння большай колькасці прыкладанняў з выкарыстаннем пакетаў, зарэгістраваных у tea, супольнасць можа павялічыць алгарытм узнагароджання, каб на размеркаванне маглі ўплываць знешнія атэставаныя наборы даных, напрыклад выкарыстанне.
Гэта абнаўленне механізму ўзнагароджання можа дазволіць большае размеркаванне ўзнагароджання токенаў tea для паступлення ў пакеты з найбольшым выкарыстаннем, захоўваючы пры гэтым абмежаванні каэфіцыента замочвання, апісаныя ў раздзеле токенаў tea.
Распрацоўшчыкі пакетаў маглі б выкарыстоўваць падобны падыход для размеркавання вялікіх узнагарод паміж сваімі залежнасцямі на аснове празрыстай логікі іх выбару.
Звярніце ўвагу, што ўся інфармацыя, якая выкарыстоўваецца для ўплыву на размеркаванне ўзнагароджанняў па пакетах і залежнасцях у сістэме tea, павінна быць даказальна надзейнай.


# Падзяка

Гэтая белая кніга не існавала б без падтрымкі і адданасці многіх чаафілаў.
Аўтары выказваюць падзяку Джошу Кругеру, Джадзіду Хану і Джэйкабу Хайдэру за іх уклад у такенаміку, а таксама многім стрыманым асобам, якія добраахвотна выдаткавалі свой час, каб даць водгук аб змесце гэтага дакумента.

$\parskip=0pt plus 1pt$

# Слоўнік тэрмінаў

| Тэрмін | Азначэнне |
|------|------------|
| Лісток | Найменшы намінал токена tea. Ліст адпавядае адной стомільённай ($10^{-8}$) tea. |
| Сячэнне | Дзеянне пакарання стыпераў або стэйкераў у адказ на паводзіны, якія супярэчаць правілам сеткі. |
| Стаўка | Дзеянне блакіроўкі токенаў tea для забеспячэння бяспекі сеткі доказу стаўкі, на якой пабудавана сістэма tea. |
| Замочванне | Дзеянне блакіроўкі токенаў tea для падтрымкі вашай прэтэнзіі і атрымання ўзнагарод (або штрафаў) на аснове кансенсусу аб абгрунтаванасці вашай прэтэнзіі. |


# Спасылкі
